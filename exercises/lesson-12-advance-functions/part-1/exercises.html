<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App</title>
</head>
<body>
    <!-- <button class="click" onclick="start()">Start</button><br><br>
    <button class="addCart" onclick="addCart()">Add to cart</button> -->
    <button onclick="message('add')">Add</button>
    <button onclick="message('remove')">Remove</button>
    <p class="display"></p>
    <script>

        let add = function(){ console.log(3+2); };
        // add();

        function runTwice(fun){
            fun();
            fun();
        }
        
        runTwice(function(){console.log('5')});
        runTwice(add);
        
        function start(){
            let btn = document.querySelector('.click');
            btn.innerHTML = 'Loading...';
            setTimeout(function(){btn.innerHTML = 'Finished!'}, 1000);
        }

        let timeoutId;

        function addCart(){
            let displayMsg = document.querySelector('.display');
            displayMsg.innerHTML = 'Added';
            
            clearTimeout(timeoutId);

            timeoutId = setTimeout(function(){displayMsg.innerHTML = ''}, 2000);
            
        }

        setInterval(() => document.title = '(2) New Messages', 1000);

        setInterval(function(){
            if(document.title === 'App'){
                document.title = '(2) New Messages';
            } else {
                document.title = 'App';
            }
        }, 1000)

        let numb = 0;
        let intervalID;
        function message(act){
            
            if(act === 'add'){
                numb += 1;
            } else if (act === 'remove' && numb > 0){
                numb -=1;
            }

            clearInterval(intervalID);

            if (numb === 0){
                document.title = 'App'
            } else {
                intervalID = setInterval(function(){
                    if(document.title === 'App'){
                        document.title = `(${numb}) New messages`;
                        
                    } else {
                        document.title = 'App';
                    }
                }, 1000)
            }

        }


        

        
    </script>
</body>
</html>